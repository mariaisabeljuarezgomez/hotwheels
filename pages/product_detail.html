<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CSP disabled for Railway deployment -->
    <title id="page-title">Loading... - Hot Wheels Velocity</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/mobile.css" />
    <meta name="description" content="Premium 1968 Redline Custom Camaro with 360Â° viewer, authentication details, and collector intelligence. Ultra-rare mint condition with original blister pack." />
    <style>
        /* T-shirt Size Selector Styling */
        #tshirt-size-selector {
            background: linear-gradient(135deg, rgba(255, 20, 147, 0.1) 0%, rgba(255, 20, 147, 0.05) 100%);
            border: 1px solid rgba(255, 20, 147, 0.3);
            border-radius: 16px;
            padding: 20px;
            margin-top: 24px;
        }
        
        #tshirt-sizes .size-active {
            background: linear-gradient(135deg, #ff1493 0%, #ff69b4 100%) !important;
            border-color: #ff1493 !important;
            box-shadow: 0 0 20px rgba(255, 20, 147, 0.5) !important;
            transform: scale(1.05) !important;
        }
        
        #tshirt-sizes > div {
            position: relative;
            overflow: hidden;
        }
        
        #tshirt-sizes > div::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        #tshirt-sizes > div:hover::before {
            left: 100%;
        }
    </style>
<!-- Rocket.new script removed for Railway deployment -->
</head>
<body class="bg-background text-text-primary font-inter">
    <!-- Navigation Header -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-primary/95 backdrop-blur-md border-b border-border">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="homepage.html" class="flex items-center space-x-2">
                        <svg class="w-10 h-10" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="20" cy="20" r="18" stroke="url(#gradient)" stroke-width="2"/>
                            <path d="M12 20L20 12L28 20L20 28L12 20Z" fill="url(#gradient)"/>
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FF0080"/>
                                    <stop offset="100%" style="stop-color:#00FF88"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <span class="font-orbitron font-bold text-xl text-accent">Hot Wheels Velocity</span>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <div class="relative group">
                        <button class="flex items-center space-x-1 text-text-primary hover:text-accent transition-smooth">
                            <span>Collections</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                        <!-- Mega Menu -->
                        <div class="absolute top-full left-0 w-96 bg-surface border border-border rounded-lg shadow-premium opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 mt-2">
                            <div class="p-6 grid grid-cols-2 gap-4">
                                <a href="collection_browser.html" class="block p-3 rounded-lg hover:bg-primary transition-smooth">
                                    <img src="https://images.pexels.com/photos/35619/capri-ford-oldtimer-automotive.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Premium Collections" class="w-full h-20 object-cover rounded mb-2" loading="lazy" />
                                    <h3 class="font-rajdhani font-semibold text-accent">Premium Collections</h3>
                                    <p class="text-sm text-text-secondary">Treasure Hunts & RLC</p>
                                </a>
                                <a href="collection_browser.html" class="block p-3 rounded-lg hover:bg-primary transition-smooth">
                                    <img src="https://images.pixabay.com/photo/2016/04/01/12/11/car-1300629_1280.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Vintage Vault" class="w-full h-20 object-cover rounded mb-2" loading="lazy" />
                                    <h3 class="font-rajdhani font-semibold text-warning">Vintage Vault</h3>
                                    <p class="text-sm text-text-secondary">Classic Redlines</p>
                                </a>
                            </div>
                        </div>
                    </div>
                    <a href="collector_dashboard.html" class="text-text-primary hover:text-accent transition-smooth">Dashboard</a>
                    <a href="about_hot_wheels_velocity.html" class="text-text-primary hover:text-accent transition-smooth">About</a>
                </div>

                <!-- Search & Actions -->
                <div class="flex items-center space-x-4">
                    <div class="relative hidden sm:block">
                        <input type="search" placeholder="Search rare finds..." class="bg-surface border border-border rounded-lg px-4 py-2 pl-10 w-64 focus:border-accent focus:outline-none transition-smooth" />
                        <svg class="absolute left-3 top-2.5 w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                    <button class="relative p-2 text-text-primary hover:text-accent transition-smooth">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9"/>
                        </svg>
                        <span class="absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <button class="md:hidden p-2 text-text-primary hover:text-accent transition-smooth" id="mobileMenuBtn">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="fixed inset-0 z-40 bg-background/95 backdrop-blur-md opacity-0 invisible transition-all duration-300" id="mobileMenu">
        <div class="flex flex-col items-center justify-center h-full space-y-8">
            <a href="homepage.html" class="text-2xl font-orbitron font-bold text-text-primary hover:text-accent transition-smooth">Home</a>
            <a href="collection_browser.html" class="text-2xl font-orbitron font-bold text-text-primary hover:text-accent transition-smooth">Collections</a>
            <a href="collector_dashboard.html" class="text-2xl font-orbitron font-bold text-text-primary hover:text-accent transition-smooth">Dashboard</a>
            <a href="about_hot_wheels_velocity.html" class="text-2xl font-orbitron font-bold text-text-primary hover:text-accent transition-smooth">About</a>
            <div class="mt-8">
                <a href="/admin-login" class="bg-accent text-white px-6 py-3 rounded-lg hover:bg-accent/80 transition-smooth font-medium">
                    ðŸ”§ Admin Access
                </a>
            </div>
        </div>
    </div>

    <!-- Breadcrumb Navigation -->
    <section class="pt-20 pb-4 bg-primary">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <nav class="flex items-center space-x-2 text-sm">
                <a href="homepage.html" class="text-text-secondary hover:text-accent transition-smooth">Home</a>
                <svg class="w-4 h-4 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
                <a href="collection_browser.html" class="text-text-secondary hover:text-accent transition-smooth">Collections</a>
                <svg class="w-4 h-4 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
                <a href="collection_browser.html" class="text-text-secondary hover:text-accent transition-smooth">Vintage Vault</a>
                <svg class="w-4 h-4 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
                <span class="text-accent" id="breadcrumb-title">Loading...</span>
            </nav>
        </div>
    </section>

    <!-- Product Detail Main Section -->
    <section class="py-8 bg-background">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12">
                <!-- Left Panel - Product Viewer -->
                <div class="space-y-6">
                    <!-- Main Product Viewer -->
                    <div class="card-rare">
                        <div class="relative bg-gradient-to-br from-primary to-secondary rounded-lg overflow-hidden">
                            <img id="main-product-image" src="" alt="Product Main View" class="w-full h-96 object-contain" loading="lazy" style="max-width: 100%; height: auto; object-fit: contain; background: #1a1a1a;" />
                            <div id="image-loading" class="absolute inset-0 flex items-center justify-center bg-primary text-white">
                                <div class="text-center">
                                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"></div>
                                    <p>Loading image...</p>
                                </div>
                            </div>
                            
                            <!-- 360Â° Viewer Controls -->
                            <div class="absolute top-4 right-4 bg-accent text-white px-3 py-2 rounded-lg font-rajdhani font-semibold text-sm">
                                360Â° VIEW ACTIVE
                            </div>
                            
                            <!-- Refresh Button -->
                            <div class="absolute top-4 left-4">
                                <button onclick="loadProduct()" class="bg-surface/80 backdrop-blur-sm text-white px-3 py-2 rounded-lg font-rajdhani font-semibold text-sm hover:bg-accent transition-smooth">
                                    ðŸ”„ Refresh
                                </button>
                            </div>
                            
                            <!-- Zoom Controls -->
                            <div class="absolute bottom-4 right-4 flex space-x-2">
                                <button class="w-10 h-10 bg-surface/80 backdrop-blur-sm rounded-lg flex items-center justify-center hover:bg-accent transition-smooth">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                </button>
                                <button class="w-10 h-10 bg-surface/80 backdrop-blur-sm rounded-lg flex items-center justify-center hover:bg-accent transition-smooth">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Viewing Mode Tabs -->
                        <div class="flex space-x-2 mt-4">
                            <button class="flex-1 bg-accent text-white py-2 px-4 rounded-lg font-rajdhani font-semibold text-sm">
                                360Â° View
                            </button>
                            <button class="flex-1 bg-surface text-text-primary py-2 px-4 rounded-lg font-rajdhani font-semibold text-sm hover:bg-accent transition-smooth">
                                Gallery
                            </button>
                            <button class="flex-1 bg-surface text-text-primary py-2 px-4 rounded-lg font-rajdhani font-semibold text-sm hover:bg-accent transition-smooth">
                                Scale View
                            </button>
                            <button class="flex-1 bg-surface text-text-primary py-2 px-4 rounded-lg font-rajdhani font-semibold text-sm hover:bg-accent transition-smooth">
                                AR View
                            </button>
                        </div>
                    </div>

                    <!-- Thumbnail Gallery -->
                    <div class="grid grid-cols-4 gap-3" id="thumbnail-gallery">
                        <!-- Thumbnails will be populated dynamically -->
                    </div>

                    <!-- T-shirt Size Selector (only for T-shirts) -->
                    <div id="tshirt-size-selector" class="mt-6" style="display: none;">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                            <span class="w-2 h-6 bg-accent mr-3 rounded"></span>
                            Select Size
                        </h3>
                        <div id="tshirt-sizes" class="grid grid-cols-5 gap-3">
                            <!-- Sizes will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Tumbler Size Guide (for tumblers) -->
                    <div id="tumbler-size-guide" class="mt-6" style="display: none;">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                            <span class="w-2 h-6 bg-accent mr-3 rounded"></span>
                            <span id="tumbler-guide-title">Size guide</span>
                        </h3>
                        <div class="bg-gradient-to-r from-surface to-background border border-accent/30 rounded-xl p-6">
                            <div class="overflow-x-auto">
                                <table id="tumbler-size-table" class="w-full text-white">
                                    <thead>
                                        <tr class="border-b border-accent/30">
                                            <th class="text-left py-3 px-4 font-bold text-accent">SIZE</th>
                                            <th class="text-left py-3 px-4 font-bold text-accent">WIDTH (inches)</th>
                                            <th class="text-left py-3 px-4 font-bold text-accent">LENGTH (inches)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tumbler-size-tbody">
                                        <!-- Size data will be populated dynamically -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Authentication Badge -->
                    <div class="card-premium">
                        <div class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-success rounded-full flex items-center justify-center">
                                <svg class="w-8 h-8 text-primary" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-orbitron font-bold text-lg text-success">Expert Authenticated</h3>
                                <p class="text-text-secondary">Verified by Hot Wheels Authority</p>
                                <p class="text-sm text-text-secondary">Certificate #HWV-2025-0892</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel - Product Information -->
                <div class="space-y-6">
                    <!-- Product Header -->
                    <div>
                        <h1 class="font-orbitron font-black text-4xl mb-2" id="product-title">Loading...</h1>
                        <p class="text-text-secondary text-lg" id="product-subtitle">Loading product details...</p>
                    </div>

                    <!-- Pricing Section -->
                    <div class="card-rare">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <p class="text-text-secondary text-sm">Current Market Value</p>
                                <p class="font-mono text-4xl font-bold text-success" id="current-price">$0</p>
                            </div>
                            <div class="text-right">
                                <p class="text-success text-sm">+18% (30 days)</p>
                                <p class="text-text-secondary text-xs">Investment Grade: A+</p>
                            </div>
                        </div>
                        
                        <!-- Price History Chart Placeholder -->
                        <div class="bg-background rounded-lg p-4 mb-4">
                            <div class="flex items-center justify-between mb-2">
                                <p class="text-sm font-rajdhani font-semibold">Price History (12 months)</p>
                                <p class="text-xs text-text-secondary">Last updated: Dec 2025</p>
                            </div>
                            <div class="h-24 bg-gradient-to-r from-accent/20 to-success/20 rounded flex items-end justify-between px-2">
                                <div class="w-2 bg-accent h-12 rounded-t"></div>
                                <div class="w-2 bg-accent h-16 rounded-t"></div>
                                <div class="w-2 bg-accent h-14 rounded-t"></div>
                                <div class="w-2 bg-success h-20 rounded-t"></div>
                                <div class="w-2 bg-success h-18 rounded-t"></div>
                                <div class="w-2 bg-success h-24 rounded-t"></div>
                            </div>
                        </div>

                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div>
                                <p class="text-text-secondary text-xs">52-Week Low</p>
                                <p class="font-mono text-sm">$1,890</p>
                            </div>
                            <div>
                                <p class="text-text-secondary text-xs">52-Week High</p>
                                <p class="font-mono text-sm">$2,650</p>
                            </div>
                            <div>
                                <p class="text-text-secondary text-xs">Avg. Sale Price</p>
                                <p class="font-mono text-sm">$2,280</p>
                            </div>
                        </div>
                    </div>

                    <!-- Extended Product Details (when market value section is disabled) -->
                    <div class="card-premium" id="extended-product-details" style="display: none;">
                        <h3 class="font-orbitron font-bold text-xl mb-4">Product Details</h3>
                        
                        <!-- Product Description -->
                        <div class="mb-6">
                            <h4 class="font-semibold text-lg mb-3">Description</h4>
                            <p class="text-text-secondary" id="extended-description">
                                <!-- JS will populate this -->
                            </p>
                        </div>
                        
                        <!-- Original Price -->
                        <div class="mb-6">
                            <h4 class="font-semibold text-lg mb-3">Original Price</h4>
                            <p class="text-2xl font-bold text-accent" id="extended-original-price">
                                <!-- JS will populate this -->
                            </p>
                        </div>
                        
                        <!-- Stock Information -->
                        <div class="mb-6">
                            <h4 class="font-semibold text-lg mb-3">Availability</h4>
                            <p class="text-text-secondary" id="extended-stock">
                                <!-- JS will populate this -->
                            </p>
                        </div>
                    </div>

                    <!-- Purchase Options -->
                    <div class="card-premium">
                        <div class="space-y-4">
                            <a href="checkout_experience.html" class="btn-primary w-full text-center block text-lg py-4" id="buy-now-button">
                                Buy Now - Loading...
                            </a>
                            
                            <div class="grid grid-cols-2 gap-3">
                                <button class="bg-surface border border-accent text-accent hover:bg-accent hover:text-white font-rajdhani font-semibold py-3 rounded-lg transition-smooth">
                                    Make Offer
                                </button>
                                <button class="bg-surface border border-warning text-warning hover:bg-warning hover:text-primary font-rajdhani font-semibold py-3 rounded-lg transition-smooth">
                                    Trade Proposal
                                </button>
                            </div>
                            
                            <button class="w-full bg-transparent border border-border text-text-primary hover:border-accent hover:text-accent font-rajdhani font-semibold py-3 rounded-lg transition-smooth">
                                Add to Wishlist
                            </button>
                        </div>
                    </div>

                    <!-- Specifications -->
                    <div class="card-premium">
                        <h3 class="font-orbitron font-bold text-xl mb-4">Specifications</h3>
                        <div class="space-y-3" id="product-specifications">
                            <!-- JS will populate this -->
                        </div>
                    </div>

                    <!-- T-Shirt Sizes & Colors (only for T-shirts) -->

                    <!-- Additional Services -->
                    <div class="card-premium">
                        <h3 class="font-orbitron font-bold text-xl mb-4">Premium Services</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-background rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span>Professional Grading</span>
                                </div>
                                <span class="font-mono text-warning">+$89</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-background rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                                    </svg>
                                    <span>Custom Display Case</span>
                                </div>
                                <span class="font-mono text-success">+$45</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-background rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                                    </svg>
                                    <span>Insurance Valuation</span>
                                </div>
                                <span class="font-mono text-accent">+$25</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Collector Intelligence Section -->
    <section class="py-16 bg-primary">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="font-orbitron font-bold text-3xl text-center mb-12">Collector Intelligence</h2>
            
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Historical Context -->
                <div class="card-premium">
                    <div class="flex items-center space-x-3 mb-4">
                        <svg class="w-8 h-8 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <h3 class="font-orbitron font-bold text-xl">Historical Context</h3>
                    </div>
                    <p class="text-text-secondary mb-4">The Custom Camaro was one of the original Sweet 16 castings released in 1968, designed by Harry Bradley. This particular Spectraflame Orange variant is among the most sought-after colors.</p>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Production Run</span>
                            <span class="font-mono">~2.5M units</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Mint Survivors</span>
                            <span class="font-mono text-warning">~150 known</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-text-secondary">Designer</span>
                            <span class="font-mono">Harry Bradley</span>
                        </div>
                    </div>
                </div>

                <!-- Expert Commentary -->
                <div class="card-premium">
                    <div class="flex items-center space-x-3 mb-4">
                        <svg class="w-8 h-8 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                        <h3 class="font-orbitron font-bold text-xl">Expert Commentary</h3>
                    </div>
                    <div class="space-y-4">
                        <div class="border-l-4 border-accent pl-4">
                            <p class="text-text-secondary italic">"This is a textbook example of a mint Redline. The Spectraflame finish is flawless, and the tampo alignment is perfect."</p>
                            <p class="text-sm text-accent mt-2">- Mike Zarnock, Hot Wheels Authority</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="flex space-x-1">
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                            </div>
                            <span class="text-sm text-text-secondary">Expert Rating: 9.8/10</span>
                        </div>
                    </div>
                </div>

                <!-- Investment Analysis -->
                <div class="card-premium">
                    <div class="flex items-center space-x-3 mb-4">
                        <svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                        </svg>
                        <h3 class="font-orbitron font-bold text-xl">Investment Analysis</h3>
                    </div>
                    <div class="space-y-4">
                        <div class="bg-background rounded-lg p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-text-secondary">5-Year Growth</span>
                                <span class="font-mono text-success">+340%</span>
                            </div>
                            <div class="w-full bg-surface rounded-full h-2">
                                <div class="bg-success h-2 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-text-secondary">Liquidity</span>
                                <span class="font-mono text-success">High</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-text-secondary">Market Demand</span>
                                <span class="font-mono text-warning">Very High</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-text-secondary">Risk Level</span>
                                <span class="font-mono text-success">Low</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Collector Reviews -->
    <section class="py-16 bg-secondary">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="font-orbitron font-bold text-3xl text-center mb-12">Collector Reviews</h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Review 1 -->
                <div class="card-premium">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-accent rounded-full flex items-center justify-center">
                            <span class="font-orbitron font-bold text-white">RC</span>
                        </div>
                        <div>
                            <p class="font-semibold">RedlineCollector_Pro</p>
                            <div class="flex space-x-1">
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <p class="text-text-secondary">"Absolutely stunning example! The Spectraflame finish is mirror-perfect and the tampo is crisp. This is exactly what you want in a vintage Redline."</p>
                    <p class="text-xs text-text-secondary mt-3">Verified Purchase â€¢ 2 weeks ago</p>
                </div>

                <!-- Review 2 -->
                <div class="card-premium">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-success rounded-full flex items-center justify-center">
                            <span class="font-orbitron font-bold text-primary">VH</span>
                        </div>
                        <div>
                            <p class="font-semibold">VintageHunter_Mike</p>
                            <div class="flex space-x-1">
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-border" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <p class="text-text-secondary">"Been collecting for 30+ years and this is one of the finest examples I've seen. The authentication process was thorough and professional."</p>
                    <p class="text-xs text-text-secondary mt-3">Verified Purchase â€¢ 1 month ago</p>
                </div>

                <!-- Review 3 -->
                <div class="card-premium">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-warning rounded-full flex items-center justify-center">
                            <span class="font-orbitron font-bold text-primary">CS</span>
                        </div>
                        <div>
                            <p class="font-semibold">CamaroSpecialist_78</p>
                            <div class="flex space-x-1">
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                                <svg class="w-4 h-4 text-warning" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <p class="text-text-secondary">"Perfect addition to my Camaro collection. The 360Â° viewer really helped me examine every detail before purchasing. Highly recommend!"</p>
                    <p class="text-xs text-text-secondary mt-3">Verified Purchase â€¢ 3 weeks ago</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Items -->
    <section class="py-16 bg-primary">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="font-orbitron font-bold text-3xl text-center mb-12">Related Treasures</h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Related Item 1 -->
                <div class="card-premium group cursor-pointer">
                    <div class="relative mb-4 overflow-hidden rounded-lg">
                        <img src="https://images.pexels.com/photos/3802510/pexels-photo-3802510.jpeg" alt="1968 Redline Custom Mustang" class="w-full h-40 object-cover group-hover:scale-110 transition-all duration-500" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="absolute top-3 right-3 bg-warning text-primary px-2 py-1 rounded-full text-xs font-mono font-bold">
                            RARE
                        </div>
                    </div>
                    <h3 class="font-orbitron font-bold text-lg mb-2">1968 Redline Custom Mustang</h3>
                    <p class="text-text-secondary text-sm mb-3">Spectraflame Blue â€¢ Mint</p>
                    <div class="flex items-center justify-between">
                        <span class="font-mono text-xl font-bold text-success">$1,890</span>
                        <a href="product_detail.html" class="bg-accent text-white px-3 py-2 rounded-lg text-sm hover:shadow-rare transition-smooth">
                            View
                        </a>
                    </div>
                </div>

                <!-- Related Item 2 -->
                <div class="card-premium group cursor-pointer">
                    <div class="relative mb-4 overflow-hidden rounded-lg">
                        <img src="https://images.unsplash.com/photo-1552519507-da3b142c6e3d" alt="1968 Redline Custom Corvette" class="w-full h-40 object-cover group-hover:scale-110 transition-all duration-500" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="absolute top-3 right-3 bg-accent text-white px-2 py-1 rounded-full text-xs font-mono font-bold">
                            PREMIUM
                        </div>
                    </div>
                    <h3 class="font-orbitron font-bold text-lg mb-2">1968 Redline Custom Corvette</h3>
                    <p class="text-text-secondary text-sm mb-3">Spectraflame Red â€¢ Near Mint</p>
                    <div class="flex items-center justify-between">
                        <span class="font-mono text-xl font-bold text-success">$2,150</span>
                        <a href="product_detail.html" class="bg-accent text-white px-3 py-2 rounded-lg text-sm hover:shadow-rare transition-smooth">
                            View
                        </a>
                    </div>
                </div>

                <!-- Related Item 3 -->
                <div class="card-premium group cursor-pointer">
                    <div class="relative mb-4 overflow-hidden rounded-lg">
                        <img src="https://images.pixabay.com/photo/2016/04/01/12/11/car-1300629_1280.jpg" alt="1969 Redline Custom Firebird" class="w-full h-40 object-cover group-hover:scale-110 transition-all duration-500" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="absolute top-3 right-3 bg-success text-primary px-2 py-1 rounded-full text-xs font-mono font-bold">
                            MINT
                        </div>
                    </div>
                    <h3 class="font-orbitron font-bold text-lg mb-2">1969 Redline Custom Firebird</h3>
                    <p class="text-text-secondary text-sm mb-3">Spectraflame Purple â€¢ Mint</p>
                    <div class="flex items-center justify-between">
                        <span class="font-mono text-xl font-bold text-success">$1,750</span>
                        <a href="product_detail.html" class="bg-accent text-white px-3 py-2 rounded-lg text-sm hover:shadow-rare transition-smooth">
                            View
                        </a>
                    </div>
                </div>

                <!-- Related Item 4 -->
                <div class="card-premium group cursor-pointer">
                    <div class="relative mb-4 overflow-hidden rounded-lg">
                        <img src="https://images.pexels.com/photos/919073/pexels-photo-919073.jpeg" alt="Complete Redline Set" class="w-full h-40 object-cover group-hover:scale-110 transition-all duration-500" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <div class="absolute top-3 right-3 bg-warning text-primary px-2 py-1 rounded-full text-xs font-mono font-bold">
                            SET
                        </div>
                    </div>
                    <h3 class="font-orbitron font-bold text-lg mb-2">Complete Sweet 16 Set</h3>
                    <p class="text-text-secondary text-sm mb-3">All 16 Original Castings</p>
                    <div class="flex items-center justify-between">
                        <span class="font-mono text-xl font-bold text-success">$28,500</span>
                        <a href="product_detail.html" class="bg-accent text-white px-3 py-2 rounded-lg text-sm hover:shadow-rare transition-smooth">
                            View
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-background border-t border-border py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <svg class="w-8 h-8" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="20" cy="20" r="18" stroke="url(#footerGradient)" stroke-width="2"/>
                            <path d="M12 20L20 12L28 20L20 28L12 20Z" fill="url(#footerGradient)"/>
                            <defs>
                                <linearGradient id="footerGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FF0080"/>
                                    <stop offset="100%" style="stop-color:#00FF88"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <span class="font-orbitron font-bold text-lg text-accent">Hot Wheels Velocity</span>
                    </div>
                    <p class="text-text-secondary text-sm">The ultimate premium collector-focused eCommerce platform for die-cast enthusiasts.</p>
                </div>

                <div>
                    <h3 class="font-rajdhani font-semibold text-lg mb-4">Collections</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="collection_browser.html" class="text-text-secondary hover:text-accent transition-smooth">Premium Collections</a></li>
                        <li><a href="collection_browser.html" class="text-text-secondary hover:text-accent transition-smooth">Vintage Vault</a></li>
                        <li><a href="collection_browser.html" class="text-text-secondary hover:text-accent transition-smooth">New Arrivals</a></li>
                        <li><a href="collection_browser.html" class="text-text-secondary hover:text-accent transition-smooth">Treasure Hunts</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="font-rajdhani font-semibold text-lg mb-4">Community</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="collector_dashboard.html" class="text-text-secondary hover:text-accent transition-smooth">Collector Dashboard</a></li>
                        <li><a href="about_hot_wheels_velocity.html" class="text-text-secondary hover:text-accent transition-smooth">About Us</a></li>
                        <li><a href="javascript:void(0)" class="text-text-secondary hover:text-accent transition-smooth">Authentication</a></li>
                        <li><a href="javascript:void(0)" class="text-text-secondary hover:text-accent transition-smooth">Trade Hub</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="font-rajdhani font-semibold text-lg mb-4">Connect</h3>
                    <div class="flex space-x-4">
                        <a href="javascript:void(0)" class="w-10 h-10 bg-surface rounded-lg flex items-center justify-center hover:bg-accent transition-smooth">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                        <a href="javascript:void(0)" class="w-10 h-10 bg-surface rounded-lg flex items-center justify-center hover:bg-accent transition-smooth">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/>
                            </svg>
                        </a>
                        <a href="javascript:void(0)" class="w-10 h-10 bg-surface rounded-lg flex items-center justify-center hover:bg-accent transition-smooth">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="border-t border-border mt-8 pt-8 text-center">
                <p class="text-text-secondary text-sm">Â© 2025 Hot Wheels Velocity. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
<!-- DHWS data injector removed for Railway deployment -->

<!-- Scripts -->
<script src="../js/main.js"></script>
<script src="../js/cart.js"></script>
<script src="../js/analytics.js"></script>
<script src="../js/mobile.js"></script>
<script>
    // Product page specific JavaScript
    let currentProduct = null;
    let quantity = 1;

    // Get product ID from URL parameter or default to 1
    function getProductId() {
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');
        return id || 'featured-1';
    }

    // Load product data
    async function loadProduct() {
        try {
            console.log('ðŸ”„ Starting loadProduct()');
            const productId = getProductId();
            console.log('ðŸ“‹ Product ID:', productId);

            const response = await fetch(`/api/product-details/${productId}?t=${Date.now()}`);
            console.log('ðŸŒ API Response status:', response.status);

            if (!response.ok) {
                throw new Error(`API returned ${response.status}: ${response.statusText}`);
            }

            const data = await response.json();
            console.log('ðŸ“¦ Raw API data:', data);

            currentProduct = data.data.product;
            console.log('ðŸ“¦ Current product data:', currentProduct);
                    console.log('ðŸ–¼ï¸ Image fields:', {
            main_image_url: currentProduct.main_image_url,
            image_url: currentProduct.image_url,
            thumbnail_1_url: currentProduct.thumbnail_1_url,
            thumbnail_2_url: currentProduct.thumbnail_2_url,
            thumbnail_3_url: currentProduct.thumbnail_3_url,
            thumbnail_4_url: currentProduct.thumbnail_4_url
        });
        
        console.log('ðŸ”§ Section data fields:', {
            product_type: currentProduct.product_type,
            specifications: currentProduct.specifications,
            toggle_settings: currentProduct.toggle_settings,
            available_sizes: currentProduct.available_sizes,
            subtitle: currentProduct.subtitle
        });

            // Convert string prices to numbers for proper formatting
            if (currentProduct.current_price) {
                currentProduct.current_price = parseFloat(currentProduct.current_price);
            }

            console.log('âœ… Processed product data:', currentProduct);
            populateProductData();
            console.log('ðŸŽ¨ Product data populated');

        } catch (error) {
            console.error('âŒ Error in loadProduct():', error);
            console.error('âŒ Error stack:', error.stack);
            // Fallback to default data
            currentProduct = {
                product_id: getProductId(),
                title: 'Error Loading Product',
                subtitle: 'Please try again later',
                current_price: 0,
                main_image_url: '',
                thumbnail_1_url: '',
                thumbnail_2_url: '',
                thumbnail_3_url: '',
                thumbnail_4_url: '',
                specifications: { "Error": "Could not load product details." },
                description: "There was an error loading the product information. Please check the console for details and try refreshing the page."
            };
            populateProductData();
        }
    }

    // Populate product data in the page
    function populateProductData() {
        if (!currentProduct) {
            console.error('âŒ No currentProduct data available');
            return;
        }

        console.log('ðŸŽ¨ Populating product data:', currentProduct);

        // Update page title and meta
        document.getElementById('page-title').textContent = `${currentProduct.title} - Hot Wheels Velocity`;
        document.getElementById('breadcrumb-title').textContent = currentProduct.title;

        // Update product information
        document.getElementById('product-title').textContent = currentProduct.title;
        document.getElementById('product-subtitle').textContent = currentProduct.subtitle;
        const price = currentProduct.price || currentProduct.current_price || 0;
        document.getElementById('current-price').textContent = `$${price.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

        // Update Buy Now button
        document.getElementById('buy-now-button').textContent = `Buy Now - $${price.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

        // Update main image - try multiple image fields
        let imageUrl = null;
        if (currentProduct.main_image_url) {
            imageUrl = currentProduct.main_image_url;
            console.log('ðŸ–¼ï¸ Using main_image_url:', imageUrl);
        } else if (currentProduct.image_url) {
            imageUrl = currentProduct.image_url;
            console.log('ðŸ–¼ï¸ Using image_url:', imageUrl);
        }
        
        console.log('ðŸ–¼ï¸ Final image URL selected:', imageUrl);
        
        if (imageUrl) {
            const imgElement = document.getElementById('main-product-image');
            const loadingElement = document.getElementById('image-loading');
            if (imgElement) {
                // Add cache-busting parameter to image URL
                const cacheBustedUrl = `${imageUrl}?t=${Date.now()}`;
                console.log('ðŸ–¼ï¸ Original image URL:', imageUrl);
                console.log('ðŸ–¼ï¸ Cache-busted URL:', cacheBustedUrl);
                console.log('ðŸ–¼ï¸ Full URL would be:', window.location.origin + cacheBustedUrl);
                
                // Test if the image exists by trying to fetch it
                fetch(cacheBustedUrl)
                    .then(response => {
                        console.log('ðŸ–¼ï¸ Image fetch response:', response.status, response.statusText);
                        if (!response.ok) {
                            console.error('âŒ Image fetch failed:', response.status, response.statusText);
                        }
                    })
                    .catch(error => {
                        console.error('âŒ Image fetch error:', error);
                    });
                
                // Show loading spinner
                if (loadingElement) loadingElement.style.display = 'flex';
                
                // Use the dynamic image URL from database
                imgElement.src = cacheBustedUrl;
                imgElement.alt = `${currentProduct.title} - Main View`;
                
                // Hide loading spinner when image loads
                imgElement.onload = function() {
                    if (loadingElement) loadingElement.style.display = 'none';
                    console.log('âœ… Main image loaded successfully');
                };
                
                // Hide loading spinner if image fails to load
                imgElement.onerror = function() {
                    if (loadingElement) loadingElement.style.display = 'none';
                    console.error('âŒ Failed to load image:', cacheBustedUrl);
                };
                
                console.log('âœ… Main image updated successfully');
            } else {
                console.error('âŒ Image element not found!');
            }
        } else {
            console.warn('âš ï¸ No image URL found for product:', currentProduct);
        }

        // Populate thumbnails
        const thumbnailGallery = document.getElementById('thumbnail-gallery');
        thumbnailGallery.innerHTML = '';
        const thumbnails = [
            currentProduct.thumbnail_1_url,
            currentProduct.thumbnail_2_url,
            currentProduct.thumbnail_3_url,
            currentProduct.thumbnail_4_url
        ].filter(Boolean); // Filter out null/undefined URLs

        console.log('ðŸ–¼ï¸ Thumbnail URLs:', thumbnails);
        console.log('ðŸ–¼ï¸ Thumbnail gallery element:', thumbnailGallery);
        console.log('ðŸ–¼ï¸ Thumbnail gallery found:', !!thumbnailGallery);
        console.log('ðŸ–¼ï¸ Thumbnail gallery parent:', thumbnailGallery?.parentElement);

        thumbnails.forEach((imageUrl, i) => {
            console.log(`ðŸ–¼ï¸ Creating thumbnail ${i + 1} with URL:`, imageUrl);
            const thumbnail = document.createElement('div');
            thumbnail.className = `aspect-square bg-surface rounded-lg overflow-hidden border ${i === 0 ? 'border-2 border-accent' : 'border-border hover:border-accent'} transition-smooth cursor-pointer`;
            const altText = `${currentProduct.title} - View ${i + 1}`;
            thumbnail.innerHTML = `<img src="${imageUrl}" alt="${altText}" class="w-full h-full object-cover" loading="lazy" />`;
            
            // Test if image loads
            const img = thumbnail.querySelector('img');
            img.onload = () => console.log(`âœ… Thumbnail ${i + 1} image loaded successfully`);
            img.onerror = () => console.log(`âŒ Thumbnail ${i + 1} image failed to load:`, imageUrl);
            
            thumbnail.addEventListener('click', () => {
                document.getElementById('main-product-image').src = imageUrl;
                thumbnailGallery.querySelectorAll('div').forEach((div, index) => {
                    div.className = `aspect-square bg-surface rounded-lg overflow-hidden border ${index === i ? 'border-2 border-accent' : 'border-border hover:border-accent'} transition-smooth cursor-pointer`;
                });
            });
            thumbnailGallery.appendChild(thumbnail);
            console.log(`âœ… Thumbnail ${i + 1} added to gallery`);
        });

        console.log('ðŸ–¼ï¸ Final thumbnail gallery HTML:', thumbnailGallery.innerHTML);

        // Populate specifications
        const specsContainer = document.getElementById('product-specifications');
        specsContainer.innerHTML = ''; // Clear existing specs
        if (currentProduct.specifications) {
            for (const [key, value] of Object.entries(currentProduct.specifications)) {
                const specDiv = document.createElement('div');
                specDiv.className = 'flex justify-between';
                specDiv.innerHTML = `
                    <span class="text-text-secondary">${key}</span>
                    <span class="font-mono">${value}</span>
                `;
                specsContainer.appendChild(specDiv);
            }
        }

        // Show T-shirt size selector if toggle is enabled (for any product type)
        const toggleSettings = currentProduct.toggle_settings || {};
        const isApparelToggleOn = toggleSettings['toggle-apparel'] === true;
        const isTumblerToggleOn = toggleSettings['toggle-tumbler-guide'] === true;
        
        if (isApparelToggleOn) {
            console.log('ðŸ‘• [Size Chart] Apparel toggle is ON - showing size selector');
            
            // Get colors and sizes from toggle_settings
            const colors = toggleSettings.colors || [];
            
            // Parse available_sizes if it's a JSON string
            let sizes = [];
            console.log('ðŸ”§ [T-shirt] toggleSettings.sizes:', toggleSettings.sizes);
            console.log('ðŸ”§ [T-shirt] currentProduct.available_sizes:', currentProduct.available_sizes);
            
            if (toggleSettings.sizes && Array.isArray(toggleSettings.sizes)) {
                sizes = toggleSettings.sizes;
                console.log('ðŸ”§ [T-shirt] Using toggleSettings.sizes:', sizes);
            } else if (currentProduct.available_sizes) {
                try {
                    sizes = typeof currentProduct.available_sizes === 'string' 
                        ? JSON.parse(currentProduct.available_sizes) 
                        : currentProduct.available_sizes;
                    console.log('ðŸ”§ [T-shirt] Parsed available_sizes:', sizes);
                } catch (e) {
                    console.error('Error parsing available_sizes:', e);
                    sizes = [];
                }
            }
            
            console.log('ðŸ”§ [T-shirt] Final sizes array:', sizes, 'Type:', typeof sizes, 'Is Array:', Array.isArray(sizes));
            
            // Colors are not displayed in the new design - only sizes
            
            // Populate sizes in the new location below thumbnails
            const sizesContainer = document.getElementById('tshirt-sizes');
            const sizeSelector = document.getElementById('tshirt-size-selector');
            
            if (sizesContainer && sizeSelector) {
            sizesContainer.innerHTML = '';
                
                if (sizes && Array.isArray(sizes) && sizes.length > 0) {
                    console.log('ðŸ”§ [T-shirt] Populating sizes:', sizes);
                    sizeSelector.style.display = 'block'; // Show the size selector
                    
                    sizes.forEach(size => {
                    const sizeDiv = document.createElement('div');
                        sizeDiv.className = 'px-4 py-3 bg-gradient-to-r from-background to-surface border-2 border-border rounded-xl font-bold text-center text-white hover:border-accent hover:bg-gradient-to-r hover:from-accent/20 hover:to-accent/10 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-accent/25';
                    sizeDiv.textContent = size;
                        
                        // Add click handler for size selection
                        sizeDiv.addEventListener('click', function() {
                            // Remove active class from all sizes
                            sizesContainer.querySelectorAll('.size-active').forEach(el => {
                                el.classList.remove('size-active', 'border-accent', 'bg-gradient-to-r', 'from-accent', 'to-accent/80');
                                el.classList.add('border-border', 'bg-gradient-to-r', 'from-background', 'to-surface');
                            });
                            
                            // Add active class to clicked size
                            this.classList.add('size-active', 'border-accent', 'bg-gradient-to-r', 'from-accent', 'to-accent/80');
                            this.classList.remove('border-border', 'bg-gradient-to-r', 'from-background', 'to-surface');
                            
                            console.log('ðŸ‘• [T-shirt] Size selected:', size);
                        });
                        
                    sizesContainer.appendChild(sizeDiv);
                });
                } else {
                    console.log('ðŸ”§ [T-shirt] No sizes to populate or sizes is not an array:', sizes);
                    sizeSelector.style.display = 'none'; // Hide the size selector
                }
            }
        } else {
            console.log('ðŸ‘• [Size Chart] Apparel toggle is OFF - hiding size selector');
            const sizeSelector = document.getElementById('tshirt-size-selector');
            if (sizeSelector) {
                sizeSelector.style.display = 'none';
            }
        }

        // Show Tumbler Size Guide if toggle is enabled
        if (isTumblerToggleOn) {
            console.log('ðŸ¥¤ [Tumbler Guide] Tumbler guide toggle is ON - showing size guide');
            
            const tumblerGuide = document.getElementById('tumbler-size-guide');
            const tumblerTitle = document.getElementById('tumbler-guide-title');
            const tumblerTbody = document.getElementById('tumbler-size-tbody');
            
            if (tumblerGuide && tumblerTitle && tumblerTbody) {
                // Set title
                tumblerTitle.textContent = toggleSettings.tumbler_guide_title || 'Size guide';
                
                // Parse size guide data
                let sizeGuideData = {};
                try {
                    if (toggleSettings.tumbler_guide_data) {
                        sizeGuideData = typeof toggleSettings.tumbler_guide_data === 'string' 
                            ? JSON.parse(toggleSettings.tumbler_guide_data) 
                            : toggleSettings.tumbler_guide_data;
                    } else {
                        // Default fallback data
                        sizeGuideData = {"20oz": {"width": "2 7/8", "length": "8 3/8"}};
                    }
                } catch (e) {
                    console.error('Error parsing tumbler guide data:', e);
                    sizeGuideData = {"20oz": {"width": "2 7/8", "length": "8 3/8"}};
                }
                
                // Clear existing rows
                tumblerTbody.innerHTML = '';
                
                // Populate table with size data
                Object.entries(sizeGuideData).forEach(([size, dimensions]) => {
                    const row = document.createElement('tr');
                    row.className = 'border-b border-accent/20 hover:bg-accent/5 transition-colors';
                    
                    row.innerHTML = `
                        <td class="py-3 px-4 font-bold text-accent">${size}</td>
                        <td class="py-3 px-4">${dimensions.width}</td>
                        <td class="py-3 px-4">${dimensions.length}</td>
                    `;
                    
                    tumblerTbody.appendChild(row);
                });
                
                tumblerGuide.style.display = 'block';
                console.log('ðŸ¥¤ [Tumbler Guide] Size guide populated with data:', sizeGuideData);
            }
        } else {
            console.log('ðŸ¥¤ [Tumbler Guide] Tumbler guide toggle is OFF - hiding size guide');
            const tumblerGuide = document.getElementById('tumbler-size-guide');
            if (tumblerGuide) {
                tumblerGuide.style.display = 'none';
            }
        }

        // Populate Extended Product Details (show when market value section is disabled)
        const extendedDetailsSection = document.getElementById('extended-product-details');
        
        // Find market value section by looking for the heading text
        let marketValueSection = null;
        const headings = document.querySelectorAll('.card-premium h3');
        for (const heading of headings) {
            if (heading.textContent.includes('Current Market Value')) {
                marketValueSection = heading.closest('.card-premium');
                break;
            }
        }
        
        // Check if market value section has data
        const hasMarketValueData = currentProduct.market_value || currentProduct.price_change_percentage || 
                                 currentProduct.investment_grade || currentProduct.week_low || 
                                 currentProduct.week_high || currentProduct.avg_sale_price;
        
        // Hide the main market value section if no data
        const marketValueElements = document.querySelectorAll('.card-rare, .card-premium');
        let marketValueSectionElement = null;
        
        for (const element of marketValueElements) {
            const textContent = element.textContent || element.innerText || '';
            if (textContent.includes('Current Market Value')) {
                marketValueSectionElement = element;
                break;
            }
        }
        
        if (marketValueSectionElement) {
            if (hasMarketValueData) {
                marketValueSectionElement.style.display = 'block';
            } else {
                marketValueSectionElement.style.display = 'none';
            }
        }
        
        // Hide/Show Specifications section based on data
        const hasSpecificationsData = currentProduct.specifications && Object.keys(currentProduct.specifications).length > 0;
        const specificationsSection = [...document.querySelectorAll('.card-premium h3')].find(h => h.textContent.includes('Specifications'))?.closest('.card-premium');
        
        if (specificationsSection) {
            specificationsSection.style.display = hasSpecificationsData ? 'block' : 'none';
        }
        
        // Hide/Show Expert Authenticated section based on data
        const hasExpertAuthData = currentProduct.expert_authenticated || currentProduct.certificate_number;
        const expertAuthSection = [...document.querySelectorAll('h3')].find(h => h.textContent.includes('Expert Authenticated'))?.closest('.card-premium');
        
        if (expertAuthSection) {
            expertAuthSection.style.display = hasExpertAuthData ? 'block' : 'none';
        }
        
        // Hide/Show Premium Services section based on data
        const hasPremiumServicesData = currentProduct.professional_grading || currentProduct.grading_price || 
                                     currentProduct.custom_display_case || currentProduct.display_case_price || 
                                     currentProduct.insurance_valuation || currentProduct.insurance_price;
        const premiumServicesSection = [...document.querySelectorAll('.card-premium h3')].find(h => h.textContent.includes('Premium Services'))?.closest('.card-premium');
        
        if (premiumServicesSection) {
            premiumServicesSection.style.display = hasPremiumServicesData ? 'block' : 'none';
        }
        
        // Show Extended Product Details when we have the data (regardless of market value)
        if (currentProduct.detailed_description || currentProduct.historical_description || currentProduct.expert_quote || currentProduct.subtitle) {
            extendedDetailsSection.style.display = 'block';
            
            // Populate description - prioritize detailed_description
            const descriptionElement = document.getElementById('extended-description');
            if (currentProduct.detailed_description) {
                descriptionElement.textContent = currentProduct.detailed_description;
            } else if (currentProduct.historical_description) {
                descriptionElement.textContent = currentProduct.historical_description;
            } else if (currentProduct.expert_quote) {
                descriptionElement.textContent = currentProduct.expert_quote;
            } else if (currentProduct.description) {
                descriptionElement.textContent = currentProduct.description;
            } else {
                descriptionElement.textContent = 'No detailed description available.';
            }
            
            // Populate original price (use original_price field)
            const originalPriceElement = document.getElementById('extended-original-price');
            if (currentProduct.original_price) {
                originalPriceElement.textContent = `$${parseFloat(currentProduct.original_price).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            } else if (currentProduct.current_price) {
                originalPriceElement.textContent = `$${parseFloat(currentProduct.current_price).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            } else {
                originalPriceElement.textContent = 'Price not specified';
            }
            
            // Populate stock information (use subtitle as product info)
            const stockElement = document.getElementById('extended-stock');
            if (currentProduct.subtitle) {
                stockElement.textContent = currentProduct.subtitle;
            } else {
                stockElement.textContent = 'Product information not available';
            }
        } else {
            extendedDetailsSection.style.display = 'none';
        }

        // Populate description in "Historical Context"
        const descriptionContainer = document.querySelector('.card-premium .text-text-secondary');
        if (descriptionContainer) {
            if (currentProduct.detailed_description) {
                descriptionContainer.textContent = currentProduct.detailed_description;
            } else if (currentProduct.description) {
            descriptionContainer.textContent = currentProduct.description;
            }
        }
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
        loadProduct();
    });
</script>
</body>
</html>